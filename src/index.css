@import 'tailwindcss';

/* VideoPopup Mobile Optimizations */
@media (max-width: 768px) and (orientation: portrait) {
  /* Força o vídeo a manter proporção 16:9 em portrait */
  #vimeo-player {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 100vw;
    height: 56.25vw; /* 16:9 ratio */
    max-height: 80vh;
  }
}

@media (max-width: 768px) and (orientation: landscape) {
  /* Em landscape, usa a tela toda */
  #vimeo-player {
    position: absolute;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
  }
  
  /* Esconde dicas em landscape */
  .landscape-hide {
    display: none;
  }
}

/* Desabilita zoom em inputs no iOS */
@supports (-webkit-touch-callout: none) {
  #vimeo-player {
    -webkit-user-select: none;
    -webkit-touch-callout: none;
  }
}

/* Melhora performance em mobile */
.video-popup-container {
  -webkit-transform: translateZ(0);
  -webkit-backface-visibility: hidden;
  -webkit-perspective: 1000;
}

/* Estilo para o botão de play customizado */
.play-button-overlay {
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
}

/* Animação suave para rotação de tela */
@media (orientation: portrait) {
  .rotate-hint {
    animation: rotate-pulse 2s ease-in-out infinite;
  }
}

@keyframes rotate-pulse {
  0%, 100% {
    transform: rotate(0deg) scale(1);
  }
  50% {
    transform: rotate(90deg) scale(1.1);
  }
}

/* Previne scroll bounce no iOS */
.video-popup-container {
  position: fixed;
  overflow: hidden;
  -webkit-overflow-scrolling: touch;
  overscroll-behavior: contain;
}

/* Garante que os controles do Vimeo sejam visíveis em mobile */
@media (max-width: 768px) {
  iframe[src*="vimeo"] {
    /* Adiciona padding para não cobrir com os botões */
    padding-top: env(safe-area-inset-top);
    padding-bottom: env(safe-area-inset-bottom);
  }
}